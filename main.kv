<WelcomeScreen>

    MDScreen:
        md_bg_color: self.theme_cls.backgroundColor

        MDBoxLayout:
            orientation: "vertical"
            padding: 10
            pos_hint: {"center_x": .5, "center_y": .62}
            size_hint: 1, .66

            FitImage:
                source: "main.jpg"


        MDBoxLayout:
            orientation: "vertical"
            pos_hint: {"center_x": .5, "center_y": .29}
            size_hint: 1, .4

            MDLabel:
                text: "Добро пожаловать!"
                halign: "center"
                font_style: "Title"
                theme_font_name: "Custom"
                font_name: "assets/fonts/PTSansNarrow-Regular.ttf"

            MDButton:
                style: "elevated"
                pos_hint: {"center_x": .5}
                theme_bg_color: "Custom"
                md_bg_color: "#AEC2EC"
                theme_width: "Custom"
                size_hint_x: .55
                height: "48dp"
                on_release:
                    root.manager.current = "Voice"
                    app.show_navigation_bar()

                MDButtonText:
                    text: "Начнем"
                    pos_hint: {"center_x": .5, "center_y": .5}
                    font_style: "Title"
                    theme_text_color: "Custom"
                    text_color: "white"
                    shadow_radius: 0, 0, 0, 0.25
                    theme_font_name: "Custom"
                    font_name: "assets/fonts/PTSansCaption-Regular.ttf"


#<MainScreen>
#
#    MDScreen:
#        md_bg_color: self.theme_cls.backgroundColor


<BaseMDNavigationItem>

    MDNavigationItemIcon:
        icon: root.icon

    MDNavigationItemLabel:
        text: root.text
#        opacity: 0

<Story>

    MDLabel:
        text: "История"
        halign: "center"
        font_style: "Display"


<Voice>

    MDLabel:
        text: "Запись"
        halign: "center"
        font_style: "Display"


<Chat>

    MDLabel:
        text: "Чат"
        halign: "center"
        font_style: "Display"



MDBoxLayout:
    orientation: "vertical"
    md_bg_color: self.theme_cls.backgroundColor

    MDScreenManager:
        id: screen_manager

        WelcomeScreen:
            name: "welcome"

        MainScreen:

        Story:
            name: "History"

        Voice:
            name: "Voice"

        Chat:
            name: "Chat"


    MDNavigationBar:
        id: navigation_bar
        opacity: 0  # Скроем панель изначально
        disabled: True  # Отключить взаимодействие
        on_switch_tabs: app.on_switch_tabs(*args)

        BaseMDNavigationItem
            icon: "file-document-outline"
            text: "History"

        BaseMDNavigationItem
            icon: "microphone-outline"
            text: "Voice"
            active: True

        BaseMDNavigationItem
            icon: "chat-outline"
            text: "Chat"